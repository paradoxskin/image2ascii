use binrw::binrw;

#[binrw]
pub enum Color {
    #[brw(magic(0u8))]
    Rgb([u8; 3]),
    #[brw(magic(1u8))]
    My256(u8),
    #[brw(magic(2u8))]
    Df256(u8)
}

impl Color {
    pub fn get_rgb(input: &Color) -> (u8, u8, u8) {
        match input {
            Color::Rgb(rgb) => {
                (rgb[0] , rgb[1], rgb[2])
            },
            Color::My256(idx) => {
                Self::MY256[idx.to_owned() as usize]
            },
            Color::Df256(idx) => {
                Self::DF256[idx.to_owned() as usize]
            }
        }
    }

    const MY256: [(u8, u8, u8); 256] = [
        (  0,   0,   0), (  0,   0,  51), (  0,   0, 102), (  0,   0, 153), (  0,   0, 204), (  0,   0, 255), (  0,  51,   0), (  0,  51,  51),
        (  0,  51, 102), (  0,  51, 153), (  0,  51, 204), (  0,  51, 255), (  0, 102,   0), (  0, 102,  51), (  0, 102, 102), (  0, 102, 153),
        (  0, 102, 204), (  0, 102, 255), (  0, 153,   0), (  0, 153,  51), (  0, 153, 102), (  0, 153, 153), (  0, 153, 204), (  0, 153, 255),
        (  0, 204,   0), (  0, 204,  51), (  0, 204, 102), (  0, 204, 153), (  0, 204, 204), (  0, 204, 255), (  0, 255,   0), (  0, 255,  51),
        (  0, 255, 102), (  0, 255, 153), (  0, 255, 204), (  0, 255, 255), ( 51,   0,   0), ( 51,   0,  51), ( 51,   0, 102), ( 51,   0, 153),
        ( 51,   0, 204), ( 51,   0, 255), ( 51,  51,   0), ( 51,  51,  51), ( 51,  51, 102), ( 51,  51, 153), ( 51,  51, 204), ( 51,  51, 255),
        ( 51, 102,   0), ( 51, 102,  51), ( 51, 102, 102), ( 51, 102, 153), ( 51, 102, 204), ( 51, 102, 255), ( 51, 153,   0), ( 51, 153,  51),
        ( 51, 153, 102), ( 51, 153, 153), ( 51, 153, 204), ( 51, 153, 255), ( 51, 204,   0), ( 51, 204,  51), ( 51, 204, 102), ( 51, 204, 153),
        ( 51, 204, 204), ( 51, 204, 255), ( 51, 255,   0), ( 51, 255,  51), ( 51, 255, 102), ( 51, 255, 153), ( 51, 255, 204), ( 51, 255, 255),
        (102,   0,   0), (102,   0,  51), (102,   0, 102), (102,   0, 153), (102,   0, 204), (102,   0, 255), (102,  51,   0), (102,  51,  51),
        (102,  51, 102), (102,  51, 153), (102,  51, 204), (102,  51, 255), (102, 102,   0), (102, 102,  51), (102, 102, 102), (102, 102, 153),
        (102, 102, 204), (102, 102, 255), (102, 153,   0), (102, 153,  51), (102, 153, 102), (102, 153, 153), (102, 153, 204), (102, 153, 255),
        (102, 204,   0), (102, 204,  51), (102, 204, 102), (102, 204, 153), (102, 204, 204), (102, 204, 255), (102, 255,   0), (102, 255,  51),
        (102, 255, 102), (102, 255, 153), (102, 255, 204), (102, 255, 255), (153,   0,   0), (153,   0,  51), (153,   0, 102), (153,   0, 153),
        (153,   0, 204), (153,   0, 255), (153,  51,   0), (153,  51,  51), (153,  51, 102), (153,  51, 153), (153,  51, 204), (153,  51, 255),
        (153, 102,   0), (153, 102,  51), (153, 102, 102), (153, 102, 153), (153, 102, 204), (153, 102, 255), (153, 153,   0), (153, 153,  51),
        (153, 153, 102), (153, 153, 153), (153, 153, 204), (153, 153, 255), (153, 204,   0), (153, 204,  51), (153, 204, 102), (153, 204, 153),
        (153, 204, 204), (153, 204, 255), (153, 255,   0), (153, 255,  51), (153, 255, 102), (153, 255, 153), (153, 255, 204), (153, 255, 255),
        (204,   0,   0), (204,   0,  51), (204,   0, 102), (204,   0, 153), (204,   0, 204), (204,   0, 255), (204,  51,   0), (204,  51,  51),
        (204,  51, 102), (204,  51, 153), (204,  51, 204), (204,  51, 255), (204, 102,   0), (204, 102,  51), (204, 102, 102), (204, 102, 153),
        (204, 102, 204), (204, 102, 255), (204, 153,   0), (204, 153,  51), (204, 153, 102), (204, 153, 153), (204, 153, 204), (204, 153, 255),
        (204, 204,   0), (204, 204,  51), (204, 204, 102), (204, 204, 153), (204, 204, 204), (204, 204, 255), (204, 255,   0), (204, 255,  51),
        (204, 255, 102), (204, 255, 153), (204, 255, 204), (204, 255, 255), (255,   0,   0), (255,   0,  51), (255,   0, 102), (255,   0, 153),
        (255,   0, 204), (255,   0, 255), (255,  51,   0), (255,  51,  51), (255,  51, 102), (255,  51, 153), (255,  51, 204), (255,  51, 255),
        (255, 102,   0), (255, 102,  51), (255, 102, 102), (255, 102, 153), (255, 102, 204), (255, 102, 255), (255, 153,   0), (255, 153,  51),
        (255, 153, 102), (255, 153, 153), (255, 153, 204), (255, 153, 255), (255, 204,   0), (255, 204,  51), (255, 204, 102), (255, 204, 153),
        (255, 204, 204), (255, 204, 255), (255, 255,   0), (255, 255,  51), (255, 255, 102), (255, 255, 153), (255, 255, 204), (255, 255, 255),
        // special color
        (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0),
        (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0),
        (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0),
        (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0),
        (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0), (  0,   0,   0)
    ];
    const DF256: [(u8, u8, u8); 256] = [
        (  0,   0,   0), (  0,   0,  85), (  0,   0, 170), (  0,   0, 255), (  0,  36,   0), (  0,  36,  85), (  0,  36, 170), (  0,  36, 255),
        (  0,  73,   0), (  0,  73,  85), (  0,  73, 170), (  0,  73, 255), (  0, 109,   0), (  0, 109,  85), (  0, 109, 170), (  0, 109, 255),
        (  0, 146,   0), (  0, 146,  85), (  0, 146, 170), (  0, 146, 255), (  0, 182,   0), (  0, 182,  85), (  0, 182, 170), (  0, 182, 255),
        (  0, 218,   0), (  0, 218,  85), (  0, 218, 170), (  0, 218, 255), (  0, 255,   0), (  0, 255,  85), (  0, 255, 170), (  0, 255, 255),
        ( 36,   0,   0), ( 36,   0,  85), ( 36,   0, 170), ( 36,   0, 255), ( 36,  36,   0), ( 36,  36,  85), ( 36,  36, 170), ( 36,  36, 255),
        ( 36,  73,   0), ( 36,  73,  85), ( 36,  73, 170), ( 36,  73, 255), ( 36, 109,   0), ( 36, 109,  85), ( 36, 109, 170), ( 36, 109, 255),
        ( 36, 146,   0), ( 36, 146,  85), ( 36, 146, 170), ( 36, 146, 255), ( 36, 182,   0), ( 36, 182,  85), ( 36, 182, 170), ( 36, 182, 255),
        ( 36, 218,   0), ( 36, 218,  85), ( 36, 218, 170), ( 36, 218, 255), ( 36, 255,   0), ( 36, 255,  85), ( 36, 255, 170), ( 36, 255, 255),
        ( 73,   0,   0), ( 73,   0,  85), ( 73,   0, 170), ( 73,   0, 255), ( 73,  36,   0), ( 73,  36,  85), ( 73,  36, 170), ( 73,  36, 255),
        ( 73,  73,   0), ( 73,  73,  85), ( 73,  73, 170), ( 73,  73, 255), ( 73, 109,   0), ( 73, 109,  85), ( 73, 109, 170), ( 73, 109, 255),
        ( 73, 146,   0), ( 73, 146,  85), ( 73, 146, 170), ( 73, 146, 255), ( 73, 182,   0), ( 73, 182,  85), ( 73, 182, 170), ( 73, 182, 255),
        ( 73, 218,   0), ( 73, 218,  85), ( 73, 218, 170), ( 73, 218, 255), ( 73, 255,   0), ( 73, 255,  85), ( 73, 255, 170), ( 73, 255, 255),
        (109,   0,   0), (109,   0,  85), (109,   0, 170), (109,   0, 255), (109,  36,   0), (109,  36,  85), (109,  36, 170), (109,  36, 255),
        (109,  73,   0), (109,  73,  85), (109,  73, 170), (109,  73, 255), (109, 109,   0), (109, 109,  85), (109, 109, 170), (109, 109, 255),
        (109, 146,   0), (109, 146,  85), (109, 146, 170), (109, 146, 255), (109, 182,   0), (109, 182,  85), (109, 182, 170), (109, 182, 255),
        (109, 218,   0), (109, 218,  85), (109, 218, 170), (109, 218, 255), (109, 255,   0), (109, 255,  85), (109, 255, 170), (109, 255, 255),
        (146,   0,   0), (146,   0,  85), (146,   0, 170), (146,   0, 255), (146,  36,   0), (146,  36,  85), (146,  36, 170), (146,  36, 255),
        (146,  73,   0), (146,  73,  85), (146,  73, 170), (146,  73, 255), (146, 109,   0), (146, 109,  85), (146, 109, 170), (146, 109, 255),
        (146, 146,   0), (146, 146,  85), (146, 146, 170), (146, 146, 255), (146, 182,   0), (146, 182,  85), (146, 182, 170), (146, 182, 255),
        (146, 218,   0), (146, 218,  85), (146, 218, 170), (146, 218, 255), (146, 255,   0), (146, 255,  85), (146, 255, 170), (146, 255, 255),
        (182,   0,   0), (182,   0,  85), (182,   0, 170), (182,   0, 255), (182,  36,   0), (182,  36,  85), (182,  36, 170), (182,  36, 255),
        (182,  73,   0), (182,  73,  85), (182,  73, 170), (182,  73, 255), (182, 109,   0), (182, 109,  85), (182, 109, 170), (182, 109, 255),
        (182, 146,   0), (182, 146,  85), (182, 146, 170), (182, 146, 255), (182, 182,   0), (182, 182,  85), (182, 182, 170), (182, 182, 255),
        (182, 218,   0), (182, 218,  85), (182, 218, 170), (182, 218, 255), (182, 255,   0), (182, 255,  85), (182, 255, 170), (182, 255, 255),
        (218,   0,   0), (218,   0,  85), (218,   0, 170), (218,   0, 255), (218,  36,   0), (218,  36,  85), (218,  36, 170), (218,  36, 255),
        (218,  73,   0), (218,  73,  85), (218,  73, 170), (218,  73, 255), (218, 109,   0), (218, 109,  85), (218, 109, 170), (218, 109, 255),
        (218, 146,   0), (218, 146,  85), (218, 146, 170), (218, 146, 255), (218, 182,   0), (218, 182,  85), (218, 182, 170), (218, 182, 255),
        (218, 218,   0), (218, 218,  85), (218, 218, 170), (218, 218, 255), (218, 255,   0), (218, 255,  85), (218, 255, 170), (218, 255, 255),
        (255,   0,   0), (255,   0,  85), (255,   0, 170), (255,   0, 255), (255,  36,   0), (255,  36,  85), (255,  36, 170), (255,  36, 255),
        (255,  73,   0), (255,  73,  85), (255,  73, 170), (255,  73, 255), (255, 109,   0), (255, 109,  85), (255, 109, 170), (255, 109, 255),
        (255, 146,   0), (255, 146,  85), (255, 146, 170), (255, 146, 255), (255, 182,   0), (255, 182,  85), (255, 182, 170), (255, 182, 255),
        (255, 218,   0), (255, 218,  85), (255, 218, 170), (255, 218, 255), (255, 255,   0), (255, 255,  85), (255, 255, 170), (255, 255, 255)
    ];
}
